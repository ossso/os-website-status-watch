"function"!=typeof Object.assign&&(Object.assign=function(t){"use strict";if(null==t)throw new TypeError("Cannot convert undefined or null to object");t=Object(t);for(var i=1;i<arguments.length;i++){var e=arguments[i];if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t}),!function(){var t,i;i=t=function(){this.data={},this.dom={},this.status={}},i.fn=i.prototype,i.fn.init=function(t){var i=this;this.options=t;for(var e in t.dom)this.dom[e]=$(t.dom[e]);return this.dom.edit.on("click",function(){var t=$(this).parents(".site-item").attr("data-index");i.activeEdit(t)}),this.dom.del.on("click",function(){var t=$(this).parents(".site-item").attr("data-index");i.delete(t)}),this.dom.item.length?(this.dom.item.each(function(t,e){var n=$(this).attr("data-ref-time");n=parseInt(n),i.data.refTime||(i.data.refTime=n),i.data.refTime>n&&(i.data.refTime=n)}),setTimeout(function(){i.ref()},this.data.refTime),this):this},i.fn.ref=function(){return this.status.isRef?this:(location.reload(),this)},i.fn.openInfo=function(t){if(!this.dom.editForm)return this;t||(t="");var i=this.dom.list.find('.site-item[data-index="'+t+'"]'),e={};i.attr("data-index")&&(e.index=i.attr("data-index")),i.attr("data-name")&&(e.name=i.attr("data-name")),i.attr("data-url")&&(e.url=i.attr("data-url")),i.attr("data-time")&&(e.time=parseInt(i.attr("data-time"))/1e3/60/60),i.attr("data-tips")&&(e.tips="false"!=i.attr("data-tips")&&i.attr("data-tips"));var n=Object.assign({},{index:"",name:"",url:"",tips:!1},e);for(var a in n)this.dom.editForm.find('[name="'+a+'"]').val(n[a]);return layer_form.render("select"),this},i.fn.activeEdit=function(t){return this.dom.editForm.show(0,function(){$(this).css({opacity:1})}),this.openInfo(t),this.status.isRef=!0,this},i.fn.closeEdit=function(){var t=this;return this.dom.editForm.css({opacity:0}),setTimeout(function(){t.dom.editForm.hide(0)},300),this.status.isRef=!1,this.ref(),this},i.fn.delete=function(t){var i=this;return layer.open({title:"删除警告",content:"删除后将无法恢复，是否继续？",btn:["确定","取消"],yes:function(e){layer.close(e),i.dom.deleteForm.find('[name="index"]').val(t),i.dom.deleteForm.submit()}}),this};var e=new t;e.init({dom:{editForm:".option-form",deleteForm:"#delete-item form",edit:".site-option .update-item",del:".site-option .delete-item",list:".site-list",item:".site-list .site-item"}}),window.activeEdit=function(){e.activeEdit()},window.closeEdit=function(){e.closeEdit()}}();
